package ers

author	Matthias.Wiesmann@cern.ch
manager	Matthias.Wiesmann@cern.ch

#What policy do we use? 

use OnlinePolicy

macro lib_ers_cppflags                  "-I../ers"

private

macro  ERS_LIB_SRC   "Assertion.cxx DefaultStream.cxx InvalidReferenceIssue.cxx  \ 
                      LogIssue.cxx RangeIssue.cxx Context.cxx EntityNotFoundIssue.cxx \
		      Issue.cxx NotImplemented.cxx  Stream.cxx Core.cxx FIFOStream.cxx  \
		      IssueFactory.cxx ParseIssue.cxx StreamFactory.cxx DefaultIssue.cxx \
		      HumanStream.cxx IssueFactoryIssue.cxx Precondition.cxx"

########################################################################################################
#       ERS Library
########################################################################################################

	
library		ers			ers $(lib_opts)			*.cxx
macro           ers_shlibflags          "" 


macro		instlibs		libers.so	\
		lynxos			libers.a
		
apply_pattern   install_libs            files=$(instlibs)

########################################################################################################
#       Test applications
########################################################################################################


application	ers_test 		 -group=check -check ../test/test.cxx ../test/ExampleIssue.cxx
macro		ers_test_dependencies	"ers" 
macro           ers_test_cppflags	""
macro		ers_testlinkopts	"-lers"
